{% extends 'base.html.twig' %}

{% block title %}Liste des entraînements{% endblock %}

{% block body %}

 {% include '_templates/_nav.html.twig' %}
 <div class="container mx-auto px-4 py-8">
  <h1 class="text-3xl font-bold mb-6">Liste des entraînements</h1>

  {% if trainings is empty %}
   <p class="text-gray-600">Aucun entraînement n'a été enregistré.</p>
  {% else %}
   <div class="overflow-x-auto">
    <table class="min-w-full bg-white shadow-md rounded-lg overflow-hidden">
     <thead class="bg-gray-100">
     <tr>
      <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Date et heure</th>
      <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Équipe</th>
      <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
     </tr>
     </thead>
     <tbody class="divide-y divide-gray-200">
     {% for training in trainings %}
      <tr>
       <td class="px-4 py-4 whitespace-nowrap">
        {{ training.date|date('d/m/Y H:i') }}
       </td>
       <td class="px-4 py-4 whitespace-nowrap">{{ training.team.name }}</td>
       <td class="px-4 py-4 whitespace-nowrap">
        <a href="{{ path('training_edit', {'id': training.id}) }}" class="text-blue-500 hover:text-blue-700 mr-2">Modifier</a>
        <form method="post" action="{{ path('training_delete', {'id': training.id}) }}" onsubmit="return confirm('Êtes-vous sûr de vouloir supprimer cet entraînement ?');" class="inline-block">
         <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ training.id) }}">
         <button type="submit" class="text-red-500 hover:text-red-700">Supprimer</button>
        </form>
       </td>
      </tr>
     {% endfor %}
     </tbody>
    </table>
   </div>
  {% endif %}

  <div class="mt-8">
   <a href="{{ path('planning_training_new') }}" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
    Ajouter un nouvel entraînement
   </a>
  </div>
 </div>
{% endblock %}
